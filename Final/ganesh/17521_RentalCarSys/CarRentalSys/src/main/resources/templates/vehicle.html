<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

<div th:replace="common :: header"></div>

<!-- Below link is search function and  -->
	<link rel="stylesheet"
	href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css"></link>
	
<title>List Vehicles</title>

</head>
<body>
<div th:replace="common :: navbar"></div>

<div class="container text-center"> 

		<div>
			<h1 mb-5> Vehicles List</h1>
		
			<div>
			
						 
				<table class="table table-bordered mydatatable" id="table" border = 1>
						<thead class="thead-light">
						<tr>
							<th> Vehicle Id </th>
							<th> Vehicle Brand </th>
							<th> Vehicle Type </th>
							<th> Vehicle Reg No </th>
							
							<th> Per Day Price  </th>	
							
							<th> Vehicle Status </th>
							<th> Actions </th>		
						</tr>
						</thead>
						<tbody>
							<th:block th:each="vehicle : ${listVeh}">
								<tr> 
									<td> [[${vehicle.vehId}]]</td>
									<td> [[${vehicle.vehBrand}]] </td>
									<td> [[${vehicle.vehType}]]</td>
									<td> [[${vehicle.vehRegNo}]]</td>
									<td> [[${vehicle.dailyRate}]]</td>
									
									<td> [[${vehicle.vehStatus}]]</td>
									<td>
											<a  class = "btn btn-primary btn-sm m-2" th:href="@{'/UpdateVehicle/' + ${vehicle.vehId}}">Update  </a>
											 <a class="btn btn-danger btn-sm delBtn " th:href="@{'/deleteRecord/'+ ${vehicle.vehId}}">Delete </a>
											</td>
								</tr>
								
							</th:block>
						</tbody>
				</table>
			</div>
			</div>
			<a th:href = "@{/newVehicleReg}">Add Vehicle</a>
		</div>
		
		<div class="modal fade" id="deleteModal" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteModalLabel">Delete Record</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

		 <div class="alert alert-danger" id="main"> </div>

		
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Keep</button>
        
        <a class="btn btn-danger" href="" id="delRef">proceed </a>
      </div>
    </div>
  </div>
</div>		
		
		<div th:replace="common :: footer"></div>
		
	<script
		src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"
		type="text/javascript"></script>
	<script>
$('.mydatatable').DataTable();
</script>

<script src="../static/js/main.js" th:src="@{js/main.js}"
		type="text/javascript"></script>
		
</body>
</html>