<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<meta charset="ISO-8859-1">
<div th:replace = "common :: header"></div>
<!-- Below link is search function and  -->
	<link rel="stylesheet"
	href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css"></link>
	
<title>List Bookings</title>
</head>
<body>

<div th:replace="common :: navbar"></div>

<div>
			<h2 mb-5> Bookings List
			
			<a th:href = "@{/newBookingReg}" style = "float:right;" >New Booking</a>
			<!-- <a th:href = "@{'/createExcel'}" style = "float:right;"><img th:src = "@{/imgs/Audi A4.png}" style ="width:200px;margin-left:10px;"></a>
<a th:href = "@{'/createPdf'}" style = "float:right;"><img th:src = "@{/imgs/Porsche Boxster.png}" style ="width:200px;margin-left:10px;"></a> -->
			</h2>
		
			</div>
			
			<div>
						<span style="color:red" class="message" th:text="${optMsg} ?:_"></span>	
			 <div class="table-responsive-sm"> 
<table class="table table-bordered mydatatable"  id="table" border = 1>
						<thead class="thead-light">
						<tr
						>
							<th> Booking Id </th>
							<th> Customer Name </th>
							<th> Customer NRIC </th>
							<th> Vehicle Brand </th>
							<th> Vehicle Reg No </th>	
							<th> Booking Start Date </th>
							<th> Booking End Date </th>
							<th> Actual End Date </th>
							<th> Extra Charges </th>
						<!-- 	<th> Deposit </th>  -->
							<th> Booking Fees </th>
							<th> Total Cost </th>
							<th> Actions </th>		
							</tr>
					
						</thead>
						
						<tbody>
							<th:block th:each="booking : ${listBook}">
								<tr> 
									<td> [[${booking.bookId}]]</td>
									<td> [[${booking.customer.custName}]] </td>
									<td> [[${booking.customer.nric}]]</td>
									<td> [[${booking.vehicle.vehBrand}]]</td>									
									<td> [[${booking.vehicle.vehRegNo}]]</td>
									<td> [[${booking.startDate}]]</td>
									<td> [[${booking.endDate}]]</td>
									<td> [[${booking.actualEndDate}]]</td>
									<td> [[${booking.extraCharges}]] </td>
								
									<td> [[${booking.bookingFee}]]</td>									
									<td> [[${booking.totalCost}]]</td>
									<td ><div class="container-fluid">									
											<a  class = "btn btn-primary btn-sm m-1" th:href="@{'/booking/edit/' + ${booking.bookId}}"><span class="fa fa-edit"></span></a>
											 <a class="btn btn-primary btn-sm m-1" th:href="@{'/ReturnBooking/' + ${booking.bookId}}">Return</a> 
											 </div>											
									</td>
								</tr>
								
							</th:block>
						</tbody>
				</table>
				</div>
		
  </div>

			
		<div th:replace="common :: footer"></div>

	<script
		src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"
		type="text/javascript"></script>
	<script>
$('.mydatatable').DataTable();
</script>


</body>
</html>